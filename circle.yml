machine:
  xcode:
    version: "6.3.1"

dependencies:
  pre:
    - sudo easy_install cpp-coveralls pyyaml
  override:
    - (cd Lib && bundle install --path=vendor/bundle --binstubs=vendor/bin)
  cache_directories:
    - 'Lib/vendor/bundle'

test:
  override:
    - (cd Lib && bundle exec rake test:ios test:osx coverage)
    - (coveralls --extension '.swift' --no-gcov --verbose)
